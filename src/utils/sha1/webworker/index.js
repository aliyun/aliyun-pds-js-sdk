/** @format */

export {createSha1WebWorkerBlob}
/* istanbul ignore next */
function createSha1WebWorkerBlob() {
  let str = `var sha1=function(){"use strict";function t(t){t?(f[0]=f[16]=f[1]=f[2]=f[3]=f[4]=f[5]=f[6]=f[7]=f[8]=f[9]=f[10]=f[11]=f[12]=f[13]=f[14]=f[15]=0,this.blocks=f):this.blocks=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],this.h0=1732584193,this.h1=4023233417,this.h2=2562383102,this.h3=271733878,this.h4=3285377520,this.block=this.start=this.bytes=this.hBytes=0,this.finalized=this.hashed=!1,this.first=!0}var h="object"==typeof window?window:{},s=!h.JS_SHA1_NO_NODE_JS&&"object"==typeof process&&process.versions&&process.versions.node,i=(s&&(h=global),!h.JS_SHA1_NO_COMMON_JS&&"object"==typeof module&&module.exports),e="function"==typeof define&&define.amd,r="0123456789abcdef".split(""),o=[-2147483648,8388608,32768,128],n=[24,16,8,0],a=["hex","array","digest","arrayBuffer"],f=[],u=function(r){return function(e){return new t(!0).update(e)[r]()}},c=function(){var e=u("hex");(e=s?p(e):e).create=function(){return new t},e.update=function(t){return e.create().update(t)};for(var r=0;r<a.length;++r){var h=a[r];e[h]=u(h)}return e},p=function(t){var h=eval("require('crypto')"),s=eval("require('buffer').Buffer"),i=function(e){if("string"==typeof e)return h.createHash("sha1").update(e,"utf8").digest("hex");if(e.constructor===ArrayBuffer)e=new Uint8Array(e);else if(void 0===e.length)return t(e);return h.createHash("sha1").update(new s(e)).digest("hex")};return i};return t.prototype.update=function(t){if(!this.finalized){for(var e,r,s="string"!=typeof t,i=0,a=(t=s&&t.constructor===h.ArrayBuffer?new Uint8Array(t):t).length||0,o=this.blocks;i<a;){if(this.hashed&&(this.hashed=!1,o[0]=this.block,o[16]=o[1]=o[2]=o[3]=o[4]=o[5]=o[6]=o[7]=o[8]=o[9]=o[10]=o[11]=o[12]=o[13]=o[14]=o[15]=0),s)for(r=this.start;i<a&&r<64;++i)o[r>>2]|=t[i]<<n[3&r++];else for(r=this.start;i<a&&r<64;++i)(e=t.charCodeAt(i))<128?o[r>>2]|=e<<n[3&r++]:(e<2048?o[r>>2]|=(192|e>>6)<<n[3&r++]:(e<55296||57344<=e?o[r>>2]|=(224|e>>12)<<n[3&r++]:(e=65536+((1023&e)<<10|1023&t.charCodeAt(++i)),o[r>>2]|=(240|e>>18)<<n[3&r++],o[r>>2]|=(128|e>>12&63)<<n[3&r++]),o[r>>2]|=(128|e>>6&63)<<n[3&r++]),o[r>>2]|=(128|63&e)<<n[3&r++]);this.lastByteIndex=r,this.bytes+=r-this.start,64<=r?(this.block=o[16],this.start=r-64,this.hash(),this.hashed=!0):this.start=r}return 4294967295<this.bytes&&(this.hBytes+=this.bytes/4294967296<<0,this.bytes=this.bytes%4294967296),this}},t.prototype.finalize=function(){var t,e;this.finalized||(this.finalized=!0,t=this.blocks,e=this.lastByteIndex,t[16]=this.block,t[e>>2]|=o[3&e],this.block=t[16],56<=e&&(this.hashed||this.hash(),t[0]=this.block,t[16]=t[1]=t[2]=t[3]=t[4]=t[5]=t[6]=t[7]=t[8]=t[9]=t[10]=t[11]=t[12]=t[13]=t[14]=t[15]=0),t[14]=this.hBytes<<3|this.bytes>>>29,t[15]=this.bytes<<3,this.hash())},t.prototype.hash=function(){for(var t,e=this.h0,r=this.h1,s=this.h2,h=this.h3,i=this.h4,a=this.blocks,n=16;n<80;++n)t=a[n-3]^a[n-8]^a[n-14]^a[n-16],a[n]=t<<1|t>>>31;for(n=0;n<20;n+=5)e=(t=(r=(t=(s=(t=(h=(t=(i=(t=e<<5|e>>>27)+(r&s|~r&h)+i+1518500249+a[n]<<0)<<5|i>>>27)+(e&(r=r<<30|r>>>2)|~e&s)+h+1518500249+a[n+1]<<0)<<5|h>>>27)+(i&(e=e<<30|e>>>2)|~i&r)+s+1518500249+a[n+2]<<0)<<5|s>>>27)+(h&(i=i<<30|i>>>2)|~h&e)+r+1518500249+a[n+3]<<0)<<5|r>>>27)+(s&(h=h<<30|h>>>2)|~s&i)+e+1518500249+a[n+4]<<0,s=s<<30|s>>>2;for(;n<40;n+=5)e=(t=(r=(t=(s=(t=(h=(t=(i=(t=e<<5|e>>>27)+(r^s^h)+i+1859775393+a[n]<<0)<<5|i>>>27)+(e^(r=r<<30|r>>>2)^s)+h+1859775393+a[n+1]<<0)<<5|h>>>27)+(i^(e=e<<30|e>>>2)^r)+s+1859775393+a[n+2]<<0)<<5|s>>>27)+(h^(i=i<<30|i>>>2)^e)+r+1859775393+a[n+3]<<0)<<5|r>>>27)+(s^(h=h<<30|h>>>2)^i)+e+1859775393+a[n+4]<<0,s=s<<30|s>>>2;for(;n<60;n+=5)e=(t=(r=(t=(s=(t=(h=(t=(i=(t=e<<5|e>>>27)+(r&s|r&h|s&h)+i-1894007588+a[n]<<0)<<5|i>>>27)+(e&(r=r<<30|r>>>2)|e&s|r&s)+h-1894007588+a[n+1]<<0)<<5|h>>>27)+(i&(e=e<<30|e>>>2)|i&r|e&r)+s-1894007588+a[n+2]<<0)<<5|s>>>27)+(h&(i=i<<30|i>>>2)|h&e|i&e)+r-1894007588+a[n+3]<<0)<<5|r>>>27)+(s&(h=h<<30|h>>>2)|s&i|h&i)+e-1894007588+a[n+4]<<0,s=s<<30|s>>>2;for(;n<80;n+=5)e=(t=(r=(t=(s=(t=(h=(t=(i=(t=e<<5|e>>>27)+(r^s^h)+i-899497514+a[n]<<0)<<5|i>>>27)+(e^(r=r<<30|r>>>2)^s)+h-899497514+a[n+1]<<0)<<5|h>>>27)+(i^(e=e<<30|e>>>2)^r)+s-899497514+a[n+2]<<0)<<5|s>>>27)+(h^(i=i<<30|i>>>2)^e)+r-899497514+a[n+3]<<0)<<5|r>>>27)+(s^(h=h<<30|h>>>2)^i)+e-899497514+a[n+4]<<0,s=s<<30|s>>>2;this.h0=this.h0+e<<0,this.h1=this.h1+r<<0,this.h2=this.h2+s<<0,this.h3=this.h3+h<<0,this.h4=this.h4+i<<0},t.prototype.hex=function(){this.finalize();var t=this.h0,e=this.h1,s=this.h2,h=this.h3,i=this.h4;return r[t>>28&15]+r[t>>24&15]+r[t>>20&15]+r[t>>16&15]+r[t>>12&15]+r[t>>8&15]+r[t>>4&15]+r[15&t]+r[e>>28&15]+r[e>>24&15]+r[e>>20&15]+r[e>>16&15]+r[e>>12&15]+r[e>>8&15]+r[e>>4&15]+r[15&e]+r[s>>28&15]+r[s>>24&15]+r[s>>20&15]+r[s>>16&15]+r[s>>12&15]+r[s>>8&15]+r[s>>4&15]+r[15&s]+r[h>>28&15]+r[h>>24&15]+r[h>>20&15]+r[h>>16&15]+r[h>>12&15]+r[h>>8&15]+r[h>>4&15]+r[15&h]+r[i>>28&15]+r[i>>24&15]+r[i>>20&15]+r[i>>16&15]+r[i>>12&15]+r[i>>8&15]+r[i>>4&15]+r[15&i]},t.prototype.toString=t.prototype.hex,t.prototype.digest=function(){this.finalize();var t=this.h0,e=this.h1,r=this.h2,s=this.h3,h=this.h4;return[t>>24&255,t>>16&255,t>>8&255,255&t,e>>24&255,e>>16&255,e>>8&255,255&e,r>>24&255,r>>16&255,r>>8&255,255&r,s>>24&255,s>>16&255,s>>8&255,255&s,h>>24&255,h>>16&255,h>>8&255,255&h]},t.prototype.array=t.prototype.digest,t.prototype.arrayBuffer=function(){this.finalize();var t=new ArrayBuffer(20),e=new DataView(t);return e.setUint32(0,this.h0),e.setUint32(4,this.h1),e.setUint32(8,this.h2),e.setUint32(12,this.h3),e.setUint32(16,this.h4),t},c()}();self.addEventListener("message",t=>{t=t.data;"init"===t.type&&("sha1"==t.workerData.action?runSha1:runPartsSha1)(t.workerData)}),self.postMessage({type:"ready"});const CHUNK_SIZE=65536;async function runPartsSha1(t){let{parts:e,chunkSize:r=CHUNK_SIZE,file:s,progress_emit_step:u}=t,h=createSha1(),i=0,a,n=[],o=0,p=s.byteLength;for(var f of e)f.parallel_sha1_ctx={h:[...n],part_offset:f.from},await readBlock(s.slice(f.from,f.to),r,async t=>{h.update(t),o+=t.length,a=100*o/p,a-i>=u&&(self.postMessage({type:"progress",progress:a}),i=a)}),n=h.getH();self.postMessage({type:"result",result:{part_info_list:e,content_hash:h.hex().toUpperCase(),content_hash_name:"sha1"}})}async function readBlock(e,r,s){var h=e.byteLength;for(let t=0;t<h;t+=r){var i=e.slice(t,Math.min(h,t+r));await s(new Uint8Array(i))}}async function runSha1(t){let{chunkSize:e=CHUNK_SIZE,file:r,progress_emit_step:s}=t,h=createSha1(),i=0;let a=0;var n=r.byteLength;for(let t=0;t<n;t+=e){var o=r.slice(t,Math.min(n,t+e));h.update(new Uint8Array(o)),a+=o.byteLength,(o=100*a/n)-i>=s&&(self.postMessage({type:"progress",progress:o}),i=o)}postMessage({type:"result",result:h.hex().toUpperCase()})}function createSha1(){var s=sha1.create();return{update(t){s.update(t)},getH(){var e=[];for(let t=0;t<5;t++){var r=s["h"+t]>>>0;e.push(r)}return e},hex(){return s.hex().toUpperCase()}}}`
  let blob = new Blob([str], {type: 'text/javascript'})
  return window.URL.createObjectURL(blob)
}
